[ {
  "processDefinition" : {
    "id" : 3,
    "code" : 139673647645504,
    "name" : "数据转换",
    "version" : 3,
    "releaseState" : "ONLINE",
    "projectCode" : 139673633767232,
    "description" : "",
    "globalParams" : "[]",
    "globalParamList" : [ ],
    "globalParamMap" : { },
    "createTime" : "2025-04-28 16:54:06",
    "updateTime" : "2025-04-28 17:05:38",
    "flag" : "YES",
    "userId" : 1,
    "userName" : null,
    "projectName" : null,
    "locations" : "[{\"taskCode\":139673647645505,\"x\":110,\"y\":150},{\"taskCode\":139673647646528,\"x\":110,\"y\":291}]",
    "scheduleReleaseState" : null,
    "schedule" : null,
    "timeout" : 0,
    "modifyBy" : null,
    "warningGroupId" : null,
    "executionType" : "PARALLEL"
  },
  "processTaskRelationList" : [ {
    "id" : 19,
    "name" : "",
    "processDefinitionVersion" : 3,
    "projectCode" : 139673633767232,
    "processDefinitionCode" : 139673647645504,
    "preTaskCode" : 0,
    "preTaskVersion" : 0,
    "postTaskCode" : 139673647645505,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 17:05:38",
    "updateTime" : "2025-04-28 17:05:38",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:05:38"
  }, {
    "id" : 20,
    "name" : "",
    "processDefinitionVersion" : 3,
    "projectCode" : 139673633767232,
    "processDefinitionCode" : 139673647645504,
    "preTaskCode" : 0,
    "preTaskVersion" : 0,
    "postTaskCode" : 139673647646528,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 17:05:38",
    "updateTime" : "2025-04-28 17:05:38",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:05:38"
  } ],
  "taskDefinitionList" : [ {
    "id" : 14,
    "code" : 139673647645505,
    "name" : "get_data_reverse",
    "version" : 2,
    "description" : "",
    "projectCode" : 139673633767232,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n\t\"job\": {\r\n\t\t\"setting\": {\r\n\t\t\t\"speed\": {\r\n\t\t\t\t\"channel\": 1\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"content\": [{\r\n\t\t\t\"reader\": {\r\n\t\t\t\t\"name\": \"httpreader\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"encoding\": \"UTF-8\",\r\n\t\t\t\t\t\"column\": [\r\n\t\t\t\t\t\t\"cid\",\r\n\t\t\t\t\t\t\"cname\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"headers\": {\r\n\t\t\t\t\t\t\"Authorization\": \"Basic YWRtaW46bmltZGE=\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"connection\": {\r\n\t\t\t\t\t\t\"url\": \"http://192.168.30.232:18081/api/get_data\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"method\": \"GET\",\r\n\t\t\t\t\t\"isPage\": true,\r\n\t\t\t\t\t\"pageParams\": {\r\n\t\t\t\t\t\t\"pageIndex\": {\r\n\t\t\t\t\t\t\t\"key\": \"page\",\r\n\t\t\t\t\t\t\t\"value\": 0\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"pageSize\": {\r\n\t\t\t\t\t\t\t\"key\": \"size\",\r\n\t\t\t\t\t\t\t\"value\": 10\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"resultKey\": \"result.data.content\",\r\n\t\t\t\t\t\"reqParams\": {\r\n\t\t\t\t\t\t\"debug\": \"true\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"writer\": {\r\n\t\t\t\t\"name\": \"postgresqlwriter\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"username\": \"root\",\r\n\t\t\t\t\t\"password\": \"root\",\r\n\t\t\t\t\t\"column\": [\r\n\t\t\t\t\t\t\"cid\",\r\n\t\t\t\t\t\t\"cname\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"connection\": [{\r\n\t\t\t\t\t\t\"jdbcUrl\": \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\",\r\n\t\t\t\t\t\t\"table\": [\r\n\t\t\t\t\t\t\t\"public.output_get\"\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}],\r\n\t\t\t\t\t\"preSql\": [\r\n\t\t\t\t\t\t\"truncate table public.output_get\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"postSql\": []\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"transformer\": [{\r\n\t\t\t\t\"name\": \"dx_groovy\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"code\": \"Column column = record.getColumn(1);\\nString oriValue = column.asString();\\nString newValue = new StringBuilder(oriValue).reverse().toString();\\nrecord.setColumn(1, new StringColumn(newValue));\\nreturn record;\"\r\n\t\t\t\t}\r\n\t\t\t}]\r\n\t\t}]\r\n\t}\r\n}","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 16:54:06",
    "updateTime" : "2025-04-28 17:02:37",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:02:37"
  }, {
    "id" : 15,
    "code" : 139673647646528,
    "name" : "post_data_delete_last_digits",
    "version" : 2,
    "description" : "",
    "projectCode" : 139673633767232,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n    \"job\": {\r\n        \"setting\": {\r\n            \"speed\": {\r\n                \"channel\": 1\r\n            }\r\n        },\r\n        \"content\": [{\r\n            \"reader\": {\r\n\t\t\t\t\"name\": \"httpreader\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"connection\": {\r\n\t\t\t\t\t\t\"url\": \"http://192.168.30.232:18081/api/post_data\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"reqParams\": {},\r\n\t\t\t\t\t\"isPage\": false,\r\n\t\t\t\t\t\"resultKey\": \"result.data\",\r\n\t\t\t\t\t\"method\": \"POST\",\r\n\t\t\t\t\t\"column\": [\"cid\", \"cname\"],\r\n\t\t\t\t\t\"headers\": {\r\n\t\t\t\t\t\t\"Authorization\": \"Bearer eyJhbGciOiJIUzM4NCJ9.eyJpYXQiOjE3NDU4MDM1OTcsImV4cCI6MTc3NzMzOTU5N30.7c4aLqlBgbXPBC8lk0W3o6asuxqZ4Rb5vS0zUF1Nd-qrGmd8849FXcBgmA4L4gy1\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n            \"writer\": {\r\n                \"name\": \"postgresqlwriter\",\r\n                \"parameter\": {\r\n                    \"username\": \"root\",\r\n                    \"password\": \"root\",\r\n                    \"column\": [\r\n                        \"cid\",\r\n                        \"cname\"\r\n                    ],\r\n                    \"connection\": [{\r\n                        \"jdbcUrl\": \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\",\r\n                        \"table\": [\r\n                            \"public.output_post\"\r\n                        ]\r\n                    }],\r\n                    \"preSql\": [\r\n                        \"truncate table public.output_post\"\r\n                    ],\r\n                    \"postSql\": []\r\n                }\r\n            },\r\n            \"transformer\": [{\r\n                \"name\": \"dx_groovy\",\r\n                \"parameter\": {\r\n                    \"code\": \"Column column = record.getColumn(1);\\nString oriValue = column.asString();\\nif (oriValue != null && oriValue.length() > 0) {\\n    String newValue = oriValue.replaceAll('[\\\\\\\\d-]+$', '');\\n    if (!newValue.equals(oriValue)) {\\n        record.setColumn(1, new StringColumn(newValue));\\n    }\\n}\\nreturn record;\"\r\n                }\r\n            }]\r\n        }]\r\n    }\r\n} ","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 16:54:06",
    "updateTime" : "2025-04-28 17:02:37",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:02:37"
  } ],
  "schedule" : null
}, {
  "processDefinition" : {
    "id" : 4,
    "code" : 139673647660864,
    "name" : "先获取token-再调用接口",
    "version" : 2,
    "releaseState" : "ONLINE",
    "projectCode" : 139673633767232,
    "description" : "",
    "globalParams" : "[]",
    "globalParamList" : [ ],
    "globalParamMap" : { },
    "createTime" : "2025-04-28 16:54:06",
    "updateTime" : "2025-04-28 17:02:03",
    "flag" : "YES",
    "userId" : 1,
    "userName" : null,
    "projectName" : null,
    "locations" : "[{\"taskCode\":139673647660865,\"x\":90,\"y\":280},{\"taskCode\":139673647660866,\"x\":422,\"y\":280}]",
    "scheduleReleaseState" : null,
    "schedule" : null,
    "timeout" : 0,
    "modifyBy" : null,
    "warningGroupId" : null,
    "executionType" : "PARALLEL"
  },
  "processTaskRelationList" : [ {
    "id" : 12,
    "name" : "",
    "processDefinitionVersion" : 2,
    "projectCode" : 139673633767232,
    "processDefinitionCode" : 139673647660864,
    "preTaskCode" : 0,
    "preTaskVersion" : 0,
    "postTaskCode" : 139673647660865,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 17:02:03",
    "updateTime" : "2025-04-28 17:02:03",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:02:03"
  }, {
    "id" : 13,
    "name" : "",
    "processDefinitionVersion" : 2,
    "projectCode" : 139673633767232,
    "processDefinitionCode" : 139673647660864,
    "preTaskCode" : 139673647660865,
    "preTaskVersion" : 2,
    "postTaskCode" : 139673647660866,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 17:02:03",
    "updateTime" : "2025-04-28 17:02:03",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:02:03"
  } ],
  "taskDefinitionList" : [ {
    "id" : 12,
    "code" : 139673647660865,
    "name" : "get_token",
    "version" : 2,
    "description" : "",
    "projectCode" : 139673633767232,
    "userId" : 1,
    "taskType" : "SHELL",
    "taskParams" : {"localParams":[{"prop":"token","direct":"OUT","type":"VARCHAR","value":""}],"rawScript":"echo \"-------------------------------\"\r\ntoken=$(curl -XPOST 'http://192.168.30.232:18081/api/login' --header 'Content-Type: application/json' -d '{\"username\": \"admin\",\"password\": \"nimda\"}' | jq -r '.result.data')\r\necho \"#{setValue(token=${token})}\"\r\necho \"-------------------------------\"","resourceList":[]},
    "taskParamList" : [ {
      "prop" : "token",
      "direct" : "OUT",
      "type" : "VARCHAR",
      "value" : ""
    } ],
    "taskParamMap" : {
      "token" : ""
    },
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 16:54:06",
    "updateTime" : "2025-04-28 17:02:03",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:02:03"
  }, {
    "id" : 13,
    "code" : 139673647660866,
    "name" : "post_data",
    "version" : 2,
    "description" : "",
    "projectCode" : 139673633767232,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n\t\"job\": {\r\n\t\t\"setting\": {\r\n\t\t\t\"speed\": {\r\n\t\t\t\t\"channel\": 1\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"content\": [{\r\n\t\t\t\"reader\": {\r\n\t\t\t\t\"name\": \"httpreader\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"connection\": {\r\n\t\t\t\t\t\t\"url\": \"http://192.168.30.232:18081/api/post_data\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"reqParams\": {},\r\n\t\t\t\t\t\"isPage\": false,\r\n\t\t\t\t\t\"resultKey\": \"result.data\",\r\n\t\t\t\t\t\"method\": \"POST\",\r\n\t\t\t\t\t\"column\": [\"cid\", \"cname\"],\r\n\t\t\t\t\t\"headers\": {\r\n\t\t\t\t\t\t\"Authorization\": \"Bearer ${token}\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"writer\": {\r\n\t\t\t\t\"name\": \"postgresqlwriter\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"username\": \"root\",\r\n\t\t\t\t\t\"password\": \"root\",\r\n\t\t\t\t\t\"column\": [\r\n\t\t\t\t\t\t\"cid\",\r\n\t\t\t\t\t\t\"cname\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"connection\": [{\r\n\t\t\t\t\t\t\"jdbcUrl\": \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\",\r\n\t\t\t\t\t\t\"table\": [\r\n\t\t\t\t\t\t\t\"public.output_post\"\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}],\r\n\t\t\t\t\t\"preSql\": [\r\n\t\t\t\t\t\t\"truncate table public.output_post\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"postSql\": []\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}]\r\n\t}\r\n}","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 16:54:06",
    "updateTime" : "2025-04-28 17:02:03",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:02:03"
  } ],
  "schedule" : null
}, {
  "processDefinition" : {
    "id" : 1,
    "code" : 139673647591232,
    "name" : "正常处理",
    "version" : 2,
    "releaseState" : "ONLINE",
    "projectCode" : 139673633767232,
    "description" : "",
    "globalParams" : "[]",
    "globalParamList" : [ ],
    "globalParamMap" : { },
    "createTime" : "2025-04-28 16:54:06",
    "updateTime" : "2025-04-28 16:55:31",
    "flag" : "YES",
    "userId" : 1,
    "userName" : null,
    "projectName" : null,
    "locations" : "[{\"taskCode\":139673647593280,\"x\":70,\"y\":307},{\"taskCode\":139673647593281,\"x\":70,\"y\":180}]",
    "scheduleReleaseState" : null,
    "schedule" : null,
    "timeout" : 0,
    "modifyBy" : null,
    "warningGroupId" : null,
    "executionType" : "PARALLEL"
  },
  "processTaskRelationList" : [ {
    "id" : 10,
    "name" : "",
    "processDefinitionVersion" : 2,
    "projectCode" : 139673633767232,
    "processDefinitionCode" : 139673647591232,
    "preTaskCode" : 0,
    "preTaskVersion" : 0,
    "postTaskCode" : 139673647593280,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 16:55:31",
    "updateTime" : "2025-04-28 16:55:31",
    "operator" : 1,
    "operateTime" : "2025-04-28 16:55:31"
  }, {
    "id" : 11,
    "name" : "",
    "processDefinitionVersion" : 2,
    "projectCode" : 139673633767232,
    "processDefinitionCode" : 139673647591232,
    "preTaskCode" : 0,
    "preTaskVersion" : 0,
    "postTaskCode" : 139673647593281,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 16:55:31",
    "updateTime" : "2025-04-28 16:55:31",
    "operator" : 1,
    "operateTime" : "2025-04-28 16:55:31"
  } ],
  "taskDefinitionList" : [ {
    "id" : 10,
    "code" : 139673647593280,
    "name" : "post_data_normal",
    "version" : 2,
    "description" : "",
    "projectCode" : 139673633767232,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n\t\"job\": {\r\n\t\t\"setting\": {\r\n\t\t\t\"speed\": {\r\n\t\t\t\t\"channel\": 1\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"content\": [{\r\n\t\t\t\"reader\": {\r\n\t\t\t\t\"name\": \"httpreader\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"connection\": {\r\n\t\t\t\t\t\t\"url\": \"http://192.168.30.232:18081/api/post_data\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"reqParams\": {},\r\n\t\t\t\t\t\"isPage\": false,\r\n\t\t\t\t\t\"resultKey\": \"result.data\",\r\n\t\t\t\t\t\"method\": \"POST\",\r\n\t\t\t\t\t\"column\": [\"cid\", \"cname\"],\r\n\t\t\t\t\t\"headers\": {\r\n\t\t\t\t\t\t\"Authorization\": \"Bearer eyJhbGciOiJIUzM4NCJ9.eyJpYXQiOjE3NDU4MDM1OTcsImV4cCI6MTc3NzMzOTU5N30.7c4aLqlBgbXPBC8lk0W3o6asuxqZ4Rb5vS0zUF1Nd-qrGmd8849FXcBgmA4L4gy1\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"writer\": {\r\n\t\t\t\t\"name\": \"postgresqlwriter\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"username\": \"root\",\r\n\t\t\t\t\t\"password\": \"root\",\r\n\t\t\t\t\t\"column\": [\r\n\t\t\t\t\t\t\"cid\",\r\n\t\t\t\t\t\t\"cname\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"connection\": [{\r\n\t\t\t\t\t\t\"jdbcUrl\": \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\",\r\n\t\t\t\t\t\t\"table\": [\r\n\t\t\t\t\t\t\t\"public.output_post\"\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}],\r\n\t\t\t\t\t\"preSql\": [\r\n\t\t\t\t\t\t\"truncate table public.output_post\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"postSql\": []\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}]\r\n\t}\r\n}","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 16:54:06",
    "updateTime" : "2025-04-28 16:55:31",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 16:55:31"
  }, {
    "id" : 11,
    "code" : 139673647593281,
    "name" : "get_data_normal",
    "version" : 2,
    "description" : "",
    "projectCode" : 139673633767232,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n    \"job\": {\r\n      \"setting\": {\r\n        \"speed\": {\r\n          \"channel\": 1\r\n        }\r\n      },\r\n      \"content\": [\r\n        {\r\n          \"reader\": {\r\n            \"name\": \"httpreader\",\r\n            \"parameter\": {\r\n              \"encoding\": \"UTF-8\",\r\n              \"column\": [\r\n                \"cid\",\r\n                \"cname\"\r\n              ],\r\n              \"headers\": {\r\n                \"Authorization\": \"Basic YWRtaW46bmltZGE=\"\r\n              },\r\n              \"connection\": {\r\n                \"url\": \"http://192.168.30.232:18081/api/get_data\"\r\n              },\r\n              \"method\": \"GET\",\r\n              \"isPage\": true,\r\n              \"pageParams\": {\r\n                \"pageIndex\": {\r\n                  \"key\": \"page\",\r\n                  \"value\": 0\r\n                },\r\n                \"pageSize\": {\r\n                  \"key\": \"size\",\r\n                  \"value\": 10\r\n                }\r\n              },\r\n              \"resultKey\": \"result.data.content\",\r\n              \"reqParams\": {\r\n                \"debug\": \"true\"\r\n              }\r\n            }\r\n          },\r\n          \"writer\": {\r\n            \"name\": \"postgresqlwriter\",\r\n            \"parameter\": {\r\n              \"username\": \"root\",\r\n              \"password\": \"root\",\r\n              \"column\": [\r\n                \"cid\",\r\n                \"cname\"\r\n              ],\r\n              \"connection\": [\r\n                {\r\n                  \"jdbcUrl\": \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\",\r\n                  \"table\": [\r\n                    \"public.output_get\"\r\n                  ]\r\n                }\r\n              ],\r\n              \"preSql\": [\r\n                \"truncate table public.output_get\"\r\n              ],\r\n              \"postSql\": []\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 16:54:06",
    "updateTime" : "2025-04-28 16:55:31",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 16:55:31"
  } ],
  "schedule" : null
}, {
  "processDefinition" : {
    "id" : 2,
    "code" : 139673647625024,
    "name" : "复杂任务",
    "version" : 9,
    "releaseState" : "ONLINE",
    "projectCode" : 139673633767232,
    "description" : "",
    "globalParams" : "[]",
    "globalParamList" : [ ],
    "globalParamMap" : { },
    "createTime" : "2025-04-28 16:54:06",
    "updateTime" : "2025-04-28 17:58:28",
    "flag" : "YES",
    "userId" : 1,
    "userName" : null,
    "projectName" : null,
    "locations" : "[{\"taskCode\":139673647625026,\"x\":40,\"y\":240},{\"taskCode\":139673647625027,\"x\":411,\"y\":510},{\"taskCode\":139673647625025,\"x\":40,\"y\":510},{\"taskCode\":139675132067648,\"x\":411,\"y\":240},{\"taskCode\":139676136097600,\"x\":771,\"y\":523},{\"taskCode\":139675599832896,\"x\":771,\"y\":240}]",
    "scheduleReleaseState" : null,
    "schedule" : null,
    "timeout" : 0,
    "modifyBy" : null,
    "warningGroupId" : null,
    "executionType" : "PARALLEL"
  },
  "processTaskRelationList" : [ {
    "id" : 51,
    "name" : "",
    "processDefinitionVersion" : 9,
    "projectCode" : 139673633767232,
    "processDefinitionCode" : 139673647625024,
    "preTaskCode" : 0,
    "preTaskVersion" : 0,
    "postTaskCode" : 139673647625026,
    "postTaskVersion" : 1,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 17:58:28",
    "updateTime" : "2025-04-28 17:58:28",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:58:28"
  }, {
    "id" : 52,
    "name" : "",
    "processDefinitionVersion" : 9,
    "projectCode" : 139673633767232,
    "processDefinitionCode" : 139673647625024,
    "preTaskCode" : 139673647625026,
    "preTaskVersion" : 1,
    "postTaskCode" : 139673647625025,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 17:58:28",
    "updateTime" : "2025-04-28 17:58:28",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:58:28"
  }, {
    "id" : 53,
    "name" : "",
    "processDefinitionVersion" : 9,
    "projectCode" : 139673633767232,
    "processDefinitionCode" : 139673647625024,
    "preTaskCode" : 139673647625025,
    "preTaskVersion" : 2,
    "postTaskCode" : 139673647625027,
    "postTaskVersion" : 1,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 17:58:28",
    "updateTime" : "2025-04-28 17:58:28",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:58:28"
  }, {
    "id" : 54,
    "name" : "",
    "processDefinitionVersion" : 9,
    "projectCode" : 139673633767232,
    "processDefinitionCode" : 139673647625024,
    "preTaskCode" : 139673647625027,
    "preTaskVersion" : 1,
    "postTaskCode" : 139675132067648,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 17:58:28",
    "updateTime" : "2025-04-28 17:58:28",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:58:28"
  }, {
    "id" : 55,
    "name" : "",
    "processDefinitionVersion" : 9,
    "projectCode" : 139673633767232,
    "processDefinitionCode" : 139673647625024,
    "preTaskCode" : 139675599832896,
    "preTaskVersion" : 4,
    "postTaskCode" : 139676136097600,
    "postTaskVersion" : 1,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 17:58:28",
    "updateTime" : "2025-04-28 17:58:28",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:58:28"
  }, {
    "id" : 56,
    "name" : "",
    "processDefinitionVersion" : 9,
    "projectCode" : 139673633767232,
    "processDefinitionCode" : 139673647625024,
    "preTaskCode" : 139675132067648,
    "preTaskVersion" : 2,
    "postTaskCode" : 139675599832896,
    "postTaskVersion" : 4,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 17:58:28",
    "updateTime" : "2025-04-28 17:58:28",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:58:28"
  } ],
  "taskDefinitionList" : [ {
    "id" : 4,
    "code" : 139673647625026,
    "name" : "创建临时目录",
    "version" : 1,
    "description" : "",
    "projectCode" : 139673633767232,
    "userId" : 1,
    "taskType" : "SHELL",
    "taskParams" : {"localParams":[{"prop":"instanceId","direct":"OUT","type":"VARCHAR","value":""}],"rawScript":"instanceId=${system.task.instance.id}\r\necho \"#{setValue(instanceId=${instanceId})}\"\r\nmkdir -p \"/tmp/data/${instanceId}\"","resourceList":[]},
    "taskParamList" : [ {
      "prop" : "instanceId",
      "direct" : "OUT",
      "type" : "VARCHAR",
      "value" : ""
    } ],
    "taskParamMap" : {
      "instanceId" : ""
    },
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 16:54:06",
    "updateTime" : "2025-04-28 16:54:06",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 16:54:06"
  }, {
    "id" : 5,
    "code" : 139673647625027,
    "name" : "增加instanceId",
    "version" : 1,
    "description" : "",
    "projectCode" : 139673633767232,
    "userId" : 1,
    "taskType" : "SHELL",
    "taskParams" : {"localParams":[],"rawScript":"find /tmp/data/${instanceId} -name \"data__*\" -type f -exec sed -i \"s/^/${instanceId},/\" {} \\;","resourceList":[]},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 16:54:06",
    "updateTime" : "2025-04-28 16:54:06",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 16:54:06"
  }, {
    "id" : 16,
    "code" : 139673647625025,
    "name" : "写入文件",
    "version" : 2,
    "description" : "",
    "projectCode" : 139673633767232,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n    \"job\": {\r\n      \"setting\": {\r\n        \"speed\": {\r\n          \"channel\": 1\r\n        }\r\n      },\r\n      \"content\": [\r\n        {\r\n          \"reader\": {\r\n            \"name\": \"httpreader\",\r\n            \"parameter\": {\r\n              \"encoding\": \"UTF-8\",\r\n              \"column\": [\r\n                \"cid\",\r\n                \"cname\"\r\n              ],\r\n              \"headers\": {\r\n                \"Authorization\": \"Basic YWRtaW46bmltZGE=\"\r\n              },\r\n              \"connection\": {\r\n                \"url\": \"http://192.168.30.232:18081/api/get_data\"\r\n              },\r\n              \"method\": \"GET\",\r\n              \"isPage\": true,\r\n              \"pageParams\": {\r\n                \"pageIndex\": {\r\n                  \"key\": \"page\",\r\n                  \"value\": 0\r\n                },\r\n                \"pageSize\": {\r\n                  \"key\": \"size\",\r\n                  \"value\": 10\r\n                }\r\n              },\r\n              \"resultKey\": \"result.data.content\",\r\n              \"reqParams\": {\r\n                \"debug\": \"true\"\r\n              }\r\n            }\r\n          },\r\n          \"writer\": {\r\n              \"name\": \"txtfilewriter\",\r\n              \"parameter\": {\r\n                  \"path\": \"/tmp/data/${instanceId}\",\r\n                  \"fileName\": \"data_\",\r\n                  \"writeMode\": \"truncate\",\r\n                  \"dateFormat\": \"yyyy-MM-dd\"\r\n              }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 16:54:06",
    "updateTime" : "2025-04-28 17:03:11",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:03:11"
  }, {
    "id" : 18,
    "code" : 139675132067648,
    "name" : "写入贴源层",
    "version" : 2,
    "description" : "",
    "projectCode" : 139673633767232,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n\t\"job\": {\r\n\t\t\"setting\": {\r\n\t\t\t\"speed\": {\r\n\t\t\t\t\"channel\": 1\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"content\": [{\r\n\t\t\t\"reader\": {\r\n\t\t\t\t\"name\": \"txtfilereader\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"path\": [\"/tmp/data/${instanceId}\"],\r\n\t\t\t\t\t\"encoding\": \"UTF-8\",\r\n\t\t\t\t\t\"column\": [{\r\n\t\t\t\t\t\t\t\"index\": 0,\r\n\t\t\t\t\t\t\t\"type\": \"long\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"index\": 1,\r\n\t\t\t\t\t\t\t\"type\": \"long\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"index\": 2,\r\n\t\t\t\t\t\t\t\"type\": \"string\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"fieldDelimiter\": \",\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"writer\": {\r\n\t\t\t\t\"name\": \"postgresqlwriter\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"username\": \"root\",\r\n\t\t\t\t\t\"password\": \"root\",\r\n\t\t\t\t\t\"column\": [\r\n\t\t\t\t\t\t\"instance_id\",\r\n\t\t\t\t\t\t\"cid\",\r\n\t\t\t\t\t\t\"cname\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"connection\": [{\r\n\t\t\t\t\t\t\"jdbcUrl\": \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\",\r\n\t\t\t\t\t\t\"table\": [\r\n\t\t\t\t\t\t\t\"public.origin_data\"\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}]\r\n\t}\r\n}","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 17:18:55",
    "updateTime" : "2025-04-28 17:21:53",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:21:53"
  }, {
    "id" : 20,
    "code" : 139676136097600,
    "name" : "写入ftp",
    "version" : 1,
    "description" : "",
    "projectCode" : 139673633767232,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n    \"job\": {\r\n        \"setting\": {\r\n            \"speed\": {\r\n                \"channel\": 1\r\n            }\r\n        },\r\n        \"content\": [{\r\n            \"reader\": {\r\n                \"name\": \"postgresqlreader\",\r\n                \"parameter\": {\r\n                    \"username\": \"root\",\r\n                    \"password\": \"root\",\r\n                    \"column\": [\r\n                        \"cid\",\r\n                        \"cname\"\r\n                    ],\r\n                    \"connection\": [{\r\n                        \"table\": [\r\n                            \"public.origin_tmp\"\r\n                        ],\r\n                        \"jdbcUrl\": [\r\n                            \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\"\r\n                        ]\r\n                    }],\r\n                    \"where\": \"instance_id=${instanceId}\",\r\n                    \"fetchSize\": 1000\r\n                }\r\n            },\r\n            \"writer\": {\r\n                \"name\": \"ftpswriter\",\r\n                \"parameter\": {\r\n                    \"protocol\": \"sftp\",\r\n                    \"host\": \"sftp\",\r\n                    \"port\": 22,\r\n                    \"username\": \"sftpuser\",\r\n                    \"password\": \"sftppass\",\r\n                    \"path\": \"/home/sftpuser/upload\",\r\n                    \"fileName\": \"data_${instanceId}.txt\",\r\n                    \"writeMode\": \"append\",\r\n                    \"fileFormat\": \"csv\",\r\n                    \"encoding\": \"utf-8\",\r\n                    \"fieldDelimiter\": \",\",\r\n                    \"compress\": \"gzip\",\r\n                    \"nullFormat\": \"\\\\N\",\r\n                    \"dateFormat\": \"yyyy-MM-dd HH:mm:ss\",\r\n                    \"header\": [\r\n                        \"cid\",\r\n                        \"cname\"\r\n                    ]\r\n                }\r\n            }\r\n        }]\r\n    }\r\n}","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 17:46:47",
    "updateTime" : "2025-04-28 17:46:47",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:46:47"
  }, {
    "id" : 23,
    "code" : 139675599832896,
    "name" : "数据转换",
    "version" : 4,
    "description" : "",
    "projectCode" : 139673633767232,
    "userId" : 1,
    "taskType" : "SQL",
    "taskParams" : {"localParams":[{"prop":"instanceId","direct":"IN","type":"VARCHAR","value":"${instanceId}"}],"resourceList":[],"type":"POSTGRESQL","datasource":1,"sql":"insert into public.origin_tmp(INSTANCE_ID,CID,CNAME)\r\nSELECT \r\n    INSTANCE_ID,\r\n    CID,\r\n    CASE \r\n        WHEN CNAME LIKE '%机翼%' THEN CONCAT('机翼工艺_', REGEXP_REPLACE(CNAME, '.*工艺[_-]?([0-9]+).*', '\\1'))\r\n        WHEN CNAME LIKE '%装配%' THEN CONCAT('装配工艺_', REGEXP_REPLACE(CNAME, '.*工艺[_-]?([0-9]+).*', '\\1'))\r\n        WHEN CNAME LIKE '%大修%' THEN CONCAT('大修工艺_', REGEXP_REPLACE(CNAME, '.*工艺[_-]?([0-9]+).*', '\\1'))\r\n        ELSE CNAME\r\n    END as CNAME\r\nFROM public.origin_data\r\nwhere INSTANCE_ID = ${instanceId}","sqlType":"0","preStatements":[],"postStatements":[],"displayRows":10},
    "taskParamList" : [ {
      "prop" : "instanceId",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "${instanceId}"
    } ],
    "taskParamMap" : {
      "instanceId" : "${instanceId}"
    },
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 17:46:47",
    "updateTime" : "2025-04-28 17:58:28",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 17:58:28"
  } ],
  "schedule" : null
} ]