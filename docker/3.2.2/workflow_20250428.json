[ {
  "processDefinition" : {
    "id" : 3,
    "code" : 139688060319904,
    "name" : "正常处理",
    "version" : 2,
    "releaseState" : "ONLINE",
    "projectCode" : 139687992815776,
    "description" : "",
    "globalParams" : "[]",
    "globalParamList" : [ ],
    "globalParamMap" : { },
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 20:49:50",
    "flag" : "YES",
    "userId" : 1,
    "userName" : null,
    "projectName" : null,
    "locations" : "[{\"taskCode\":139688060319905,\"x\":70,\"y\":307},{\"taskCode\":139688060319906,\"x\":70,\"y\":180}]",
    "scheduleReleaseState" : null,
    "schedule" : null,
    "timeout" : 0,
    "modifyBy" : null,
    "warningGroupId" : null,
    "executionType" : "PARALLEL"
  },
  "processTaskRelationList" : [ {
    "id" : 13,
    "name" : "",
    "processDefinitionVersion" : 2,
    "projectCode" : 139687992815776,
    "processDefinitionCode" : 139688060319904,
    "preTaskCode" : 0,
    "preTaskVersion" : 0,
    "postTaskCode" : 139688060319905,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 20:49:50",
    "updateTime" : "2025-04-28 20:49:50",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:49:50"
  }, {
    "id" : 14,
    "name" : "",
    "processDefinitionVersion" : 2,
    "projectCode" : 139687992815776,
    "processDefinitionCode" : 139688060319904,
    "preTaskCode" : 0,
    "preTaskVersion" : 0,
    "postTaskCode" : 139688060319906,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 20:49:50",
    "updateTime" : "2025-04-28 20:49:50",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:49:50"
  } ],
  "taskDefinitionList" : [ {
    "id" : 13,
    "code" : 139688060319905,
    "name" : "post_data_normal",
    "version" : 2,
    "description" : "",
    "projectCode" : 139687992815776,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n\t\"job\": {\r\n\t\t\"setting\": {\r\n\t\t\t\"speed\": {\r\n\t\t\t\t\"channel\": 1\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"content\": [{\r\n\t\t\t\"reader\": {\r\n\t\t\t\t\"name\": \"httpreader\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"connection\": {\r\n\t\t\t\t\t\t\"url\": \"http://192.168.248.163:18081/api/post_data\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"reqParams\": {},\r\n\t\t\t\t\t\"isPage\": false,\r\n\t\t\t\t\t\"resultKey\": \"result.data\",\r\n\t\t\t\t\t\"method\": \"POST\",\r\n\t\t\t\t\t\"column\": [\"cid\", \"cname\"],\r\n\t\t\t\t\t\"headers\": {\r\n\t\t\t\t\t\t\"Authorization\": \"Bearer eyJhbGciOiJIUzM4NCJ9.eyJpYXQiOjE3NDU4MDM1OTcsImV4cCI6MTc3NzMzOTU5N30.7c4aLqlBgbXPBC8lk0W3o6asuxqZ4Rb5vS0zUF1Nd-qrGmd8849FXcBgmA4L4gy1\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"writer\": {\r\n\t\t\t\t\"name\": \"postgresqlwriter\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"username\": \"root\",\r\n\t\t\t\t\t\"password\": \"root\",\r\n\t\t\t\t\t\"column\": [\r\n\t\t\t\t\t\t\"cid\",\r\n\t\t\t\t\t\t\"cname\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"connection\": [{\r\n\t\t\t\t\t\t\"jdbcUrl\": \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\",\r\n\t\t\t\t\t\t\"table\": [\r\n\t\t\t\t\t\t\t\"public.output_post\"\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}],\r\n\t\t\t\t\t\"preSql\": [\r\n\t\t\t\t\t\t\"truncate table public.output_post\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"postSql\": []\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}]\r\n\t}\r\n}","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 20:49:50",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:49:50"
  }, {
    "id" : 14,
    "code" : 139688060319906,
    "name" : "get_data_normal",
    "version" : 2,
    "description" : "",
    "projectCode" : 139687992815776,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n    \"job\": {\r\n      \"setting\": {\r\n        \"speed\": {\r\n          \"channel\": 1\r\n        }\r\n      },\r\n      \"content\": [\r\n        {\r\n          \"reader\": {\r\n            \"name\": \"httpreader\",\r\n            \"parameter\": {\r\n              \"encoding\": \"UTF-8\",\r\n              \"column\": [\r\n                \"cid\",\r\n                \"cname\"\r\n              ],\r\n              \"headers\": {\r\n                \"Authorization\": \"Basic YWRtaW46bmltZGE=\"\r\n              },\r\n              \"connection\": {\r\n                \"url\": \"http://192.168.248.163:18081/api/get_data\"\r\n              },\r\n              \"method\": \"GET\",\r\n              \"isPage\": true,\r\n              \"pageParams\": {\r\n                \"pageIndex\": {\r\n                  \"key\": \"page\",\r\n                  \"value\": 0\r\n                },\r\n                \"pageSize\": {\r\n                  \"key\": \"size\",\r\n                  \"value\": 10\r\n                }\r\n              },\r\n              \"resultKey\": \"result.data.content\",\r\n              \"reqParams\": {\r\n                \"debug\": \"true\"\r\n              }\r\n            }\r\n          },\r\n          \"writer\": {\r\n            \"name\": \"postgresqlwriter\",\r\n            \"parameter\": {\r\n              \"username\": \"root\",\r\n              \"password\": \"root\",\r\n              \"column\": [\r\n                \"cid\",\r\n                \"cname\"\r\n              ],\r\n              \"connection\": [\r\n                {\r\n                  \"jdbcUrl\": \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\",\r\n                  \"table\": [\r\n                    \"public.output_get\"\r\n                  ]\r\n                }\r\n              ],\r\n              \"preSql\": [\r\n                \"truncate table public.output_get\"\r\n              ],\r\n              \"postSql\": []\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 20:49:50",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:49:50"
  } ],
  "schedule" : null
}, {
  "processDefinition" : {
    "id" : 2,
    "code" : 139688060306592,
    "name" : "先获取token-再调用接口",
    "version" : 2,
    "releaseState" : "ONLINE",
    "projectCode" : 139687992815776,
    "description" : "",
    "globalParams" : "[]",
    "globalParamList" : [ ],
    "globalParamMap" : { },
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 20:55:17",
    "flag" : "YES",
    "userId" : 1,
    "userName" : null,
    "projectName" : null,
    "locations" : "[{\"taskCode\":139688060306593,\"x\":90,\"y\":280},{\"taskCode\":139688060306594,\"x\":422,\"y\":280}]",
    "scheduleReleaseState" : null,
    "schedule" : null,
    "timeout" : 0,
    "modifyBy" : null,
    "warningGroupId" : null,
    "executionType" : "PARALLEL"
  },
  "processTaskRelationList" : [ {
    "id" : 15,
    "name" : "",
    "processDefinitionVersion" : 2,
    "projectCode" : 139687992815776,
    "processDefinitionCode" : 139688060306592,
    "preTaskCode" : 0,
    "preTaskVersion" : 0,
    "postTaskCode" : 139688060306593,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 20:55:17",
    "updateTime" : "2025-04-28 20:55:17",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:55:17"
  }, {
    "id" : 16,
    "name" : "",
    "processDefinitionVersion" : 2,
    "projectCode" : 139687992815776,
    "processDefinitionCode" : 139688060306592,
    "preTaskCode" : 139688060306593,
    "preTaskVersion" : 2,
    "postTaskCode" : 139688060306594,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 20:55:17",
    "updateTime" : "2025-04-28 20:55:17",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:55:17"
  } ],
  "taskDefinitionList" : [ {
    "id" : 15,
    "code" : 139688060306593,
    "name" : "get_token",
    "version" : 2,
    "description" : "",
    "projectCode" : 139687992815776,
    "userId" : 1,
    "taskType" : "SHELL",
    "taskParams" : {"localParams":[{"prop":"token","direct":"OUT","type":"VARCHAR","value":""}],"rawScript":"echo \"-------------------------------\"\r\ntoken=$(curl -XPOST 'http://192.168.248.163:18081/api/login' --header 'Content-Type: application/json' -d '{\"username\": \"admin\",\"password\": \"nimda\"}' | jq -r '.result.data')\r\necho \"#{setValue(token=${token})}\"\r\necho \"-------------------------------\"","resourceList":[]},
    "taskParamList" : [ {
      "prop" : "token",
      "direct" : "OUT",
      "type" : "VARCHAR",
      "value" : ""
    } ],
    "taskParamMap" : {
      "token" : ""
    },
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 20:55:17",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:55:17"
  }, {
    "id" : 16,
    "code" : 139688060306594,
    "name" : "post_data",
    "version" : 2,
    "description" : "",
    "projectCode" : 139687992815776,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n\t\"job\": {\r\n\t\t\"setting\": {\r\n\t\t\t\"speed\": {\r\n\t\t\t\t\"channel\": 1\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"content\": [{\r\n\t\t\t\"reader\": {\r\n\t\t\t\t\"name\": \"httpreader\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"connection\": {\r\n\t\t\t\t\t\t\"url\": \"http://192.168.248.163:18081/api/post_data\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"reqParams\": {},\r\n\t\t\t\t\t\"isPage\": false,\r\n\t\t\t\t\t\"resultKey\": \"result.data\",\r\n\t\t\t\t\t\"method\": \"POST\",\r\n\t\t\t\t\t\"column\": [\"cid\", \"cname\"],\r\n\t\t\t\t\t\"headers\": {\r\n\t\t\t\t\t\t\"Authorization\": \"Bearer ${token}\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"writer\": {\r\n\t\t\t\t\"name\": \"postgresqlwriter\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"username\": \"root\",\r\n\t\t\t\t\t\"password\": \"root\",\r\n\t\t\t\t\t\"column\": [\r\n\t\t\t\t\t\t\"cid\",\r\n\t\t\t\t\t\t\"cname\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"connection\": [{\r\n\t\t\t\t\t\t\"jdbcUrl\": \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\",\r\n\t\t\t\t\t\t\"table\": [\r\n\t\t\t\t\t\t\t\"public.output_post\"\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}],\r\n\t\t\t\t\t\"preSql\": [\r\n\t\t\t\t\t\t\"truncate table public.output_post\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"postSql\": []\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}]\r\n\t}\r\n}","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 20:55:17",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:55:17"
  } ],
  "schedule" : null
}, {
  "processDefinition" : {
    "id" : 1,
    "code" : 139688060286112,
    "name" : "数据转换",
    "version" : 2,
    "releaseState" : "ONLINE",
    "projectCode" : 139687992815776,
    "description" : "",
    "globalParams" : "[]",
    "globalParamList" : [ ],
    "globalParamMap" : { },
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 20:56:38",
    "flag" : "YES",
    "userId" : 1,
    "userName" : null,
    "projectName" : null,
    "locations" : "[{\"taskCode\":139688060287136,\"x\":110,\"y\":150},{\"taskCode\":139688060287137,\"x\":110,\"y\":291}]",
    "scheduleReleaseState" : null,
    "schedule" : null,
    "timeout" : 0,
    "modifyBy" : null,
    "warningGroupId" : null,
    "executionType" : "PARALLEL"
  },
  "processTaskRelationList" : [ {
    "id" : 17,
    "name" : "",
    "processDefinitionVersion" : 2,
    "projectCode" : 139687992815776,
    "processDefinitionCode" : 139688060286112,
    "preTaskCode" : 0,
    "preTaskVersion" : 0,
    "postTaskCode" : 139688060287136,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 20:56:38",
    "updateTime" : "2025-04-28 20:56:38",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:56:38"
  }, {
    "id" : 18,
    "name" : "",
    "processDefinitionVersion" : 2,
    "projectCode" : 139687992815776,
    "processDefinitionCode" : 139688060286112,
    "preTaskCode" : 0,
    "preTaskVersion" : 0,
    "postTaskCode" : 139688060287137,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 20:56:38",
    "updateTime" : "2025-04-28 20:56:38",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:56:38"
  } ],
  "taskDefinitionList" : [ {
    "id" : 17,
    "code" : 139688060287136,
    "name" : "get_data_reverse",
    "version" : 2,
    "description" : "",
    "projectCode" : 139687992815776,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n\t\"job\": {\r\n\t\t\"setting\": {\r\n\t\t\t\"speed\": {\r\n\t\t\t\t\"channel\": 1\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"content\": [{\r\n\t\t\t\"reader\": {\r\n\t\t\t\t\"name\": \"httpreader\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"encoding\": \"UTF-8\",\r\n\t\t\t\t\t\"column\": [\r\n\t\t\t\t\t\t\"cid\",\r\n\t\t\t\t\t\t\"cname\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"headers\": {\r\n\t\t\t\t\t\t\"Authorization\": \"Basic YWRtaW46bmltZGE=\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"connection\": {\r\n\t\t\t\t\t\t\"url\": \"http://192.168.248.163:18081/api/get_data\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"method\": \"GET\",\r\n\t\t\t\t\t\"isPage\": true,\r\n\t\t\t\t\t\"pageParams\": {\r\n\t\t\t\t\t\t\"pageIndex\": {\r\n\t\t\t\t\t\t\t\"key\": \"page\",\r\n\t\t\t\t\t\t\t\"value\": 0\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"pageSize\": {\r\n\t\t\t\t\t\t\t\"key\": \"size\",\r\n\t\t\t\t\t\t\t\"value\": 10\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"resultKey\": \"result.data.content\",\r\n\t\t\t\t\t\"reqParams\": {\r\n\t\t\t\t\t\t\"debug\": \"true\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"writer\": {\r\n\t\t\t\t\"name\": \"postgresqlwriter\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"username\": \"root\",\r\n\t\t\t\t\t\"password\": \"root\",\r\n\t\t\t\t\t\"column\": [\r\n\t\t\t\t\t\t\"cid\",\r\n\t\t\t\t\t\t\"cname\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"connection\": [{\r\n\t\t\t\t\t\t\"jdbcUrl\": \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\",\r\n\t\t\t\t\t\t\"table\": [\r\n\t\t\t\t\t\t\t\"public.output_get\"\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}],\r\n\t\t\t\t\t\"preSql\": [\r\n\t\t\t\t\t\t\"truncate table public.output_get\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"postSql\": []\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"transformer\": [{\r\n\t\t\t\t\"name\": \"dx_groovy\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"code\": \"Column column = record.getColumn(1);\\nString oriValue = column.asString();\\nString newValue = new StringBuilder(oriValue).reverse().toString();\\nrecord.setColumn(1, new StringColumn(newValue));\\nreturn record;\"\r\n\t\t\t\t}\r\n\t\t\t}]\r\n\t\t}]\r\n\t}\r\n}","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 20:56:38",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:56:38"
  }, {
    "id" : 18,
    "code" : 139688060287137,
    "name" : "post_data_delete_last_digits",
    "version" : 2,
    "description" : "",
    "projectCode" : 139687992815776,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n    \"job\": {\r\n        \"setting\": {\r\n            \"speed\": {\r\n                \"channel\": 1\r\n            }\r\n        },\r\n        \"content\": [{\r\n            \"reader\": {\r\n\t\t\t\t\"name\": \"httpreader\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"connection\": {\r\n\t\t\t\t\t\t\"url\": \"http://192.168.248.163:18081/api/post_data\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"reqParams\": {},\r\n\t\t\t\t\t\"isPage\": false,\r\n\t\t\t\t\t\"resultKey\": \"result.data\",\r\n\t\t\t\t\t\"method\": \"POST\",\r\n\t\t\t\t\t\"column\": [\"cid\", \"cname\"],\r\n\t\t\t\t\t\"headers\": {\r\n\t\t\t\t\t\t\"Authorization\": \"Bearer eyJhbGciOiJIUzM4NCJ9.eyJpYXQiOjE3NDU4MDM1OTcsImV4cCI6MTc3NzMzOTU5N30.7c4aLqlBgbXPBC8lk0W3o6asuxqZ4Rb5vS0zUF1Nd-qrGmd8849FXcBgmA4L4gy1\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n            \"writer\": {\r\n                \"name\": \"postgresqlwriter\",\r\n                \"parameter\": {\r\n                    \"username\": \"root\",\r\n                    \"password\": \"root\",\r\n                    \"column\": [\r\n                        \"cid\",\r\n                        \"cname\"\r\n                    ],\r\n                    \"connection\": [{\r\n                        \"jdbcUrl\": \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\",\r\n                        \"table\": [\r\n                            \"public.output_post\"\r\n                        ]\r\n                    }],\r\n                    \"preSql\": [\r\n                        \"truncate table public.output_post\"\r\n                    ],\r\n                    \"postSql\": []\r\n                }\r\n            },\r\n            \"transformer\": [{\r\n                \"name\": \"dx_groovy\",\r\n                \"parameter\": {\r\n                    \"code\": \"Column column = record.getColumn(1);\\nString oriValue = column.asString();\\nif (oriValue != null && oriValue.length() > 0) {\\n    String newValue = oriValue.replaceAll('[\\\\\\\\d-]+$', '');\\n    if (!newValue.equals(oriValue)) {\\n        record.setColumn(1, new StringColumn(newValue));\\n    }\\n}\\nreturn record;\"\r\n                }\r\n            }]\r\n        }]\r\n    }\r\n} ","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 20:56:38",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:56:38"
  } ],
  "schedule" : null
}, {
  "processDefinition" : {
    "id" : 4,
    "code" : 139688060332192,
    "name" : "复杂任务",
    "version" : 15,
    "releaseState" : "ONLINE",
    "projectCode" : 139687992815776,
    "description" : "",
    "globalParams" : "[]",
    "globalParamList" : [ ],
    "globalParamMap" : { },
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 23:12:11",
    "flag" : "YES",
    "userId" : 1,
    "userName" : null,
    "projectName" : null,
    "locations" : "[{\"taskCode\":139688060332194,\"x\":411,\"y\":510},{\"taskCode\":139688060332196,\"x\":411,\"y\":240},{\"taskCode\":139688060332195,\"x\":40,\"y\":510},{\"taskCode\":139688060332193,\"x\":40,\"y\":240},{\"taskCode\":139688060332197,\"x\":791,\"y\":240}]",
    "scheduleReleaseState" : null,
    "schedule" : null,
    "timeout" : 0,
    "modifyBy" : null,
    "warningGroupId" : null,
    "executionType" : "PARALLEL"
  },
  "processTaskRelationList" : [ {
    "id" : 95,
    "name" : "",
    "processDefinitionVersion" : 15,
    "projectCode" : 139687992815776,
    "processDefinitionCode" : 139688060332192,
    "preTaskCode" : 0,
    "preTaskVersion" : 0,
    "postTaskCode" : 139688060332193,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 23:12:11",
    "updateTime" : "2025-04-28 23:12:11",
    "operator" : 1,
    "operateTime" : "2025-04-28 23:12:11"
  }, {
    "id" : 96,
    "name" : "",
    "processDefinitionVersion" : 15,
    "projectCode" : 139687992815776,
    "processDefinitionCode" : 139688060332192,
    "preTaskCode" : 139688060332195,
    "preTaskVersion" : 2,
    "postTaskCode" : 139688060332194,
    "postTaskVersion" : 1,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 23:12:11",
    "updateTime" : "2025-04-28 23:12:11",
    "operator" : 1,
    "operateTime" : "2025-04-28 23:12:11"
  }, {
    "id" : 97,
    "name" : "",
    "processDefinitionVersion" : 15,
    "projectCode" : 139687992815776,
    "processDefinitionCode" : 139688060332192,
    "preTaskCode" : 139688060332193,
    "preTaskVersion" : 2,
    "postTaskCode" : 139688060332195,
    "postTaskVersion" : 2,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 23:12:11",
    "updateTime" : "2025-04-28 23:12:11",
    "operator" : 1,
    "operateTime" : "2025-04-28 23:12:11"
  }, {
    "id" : 98,
    "name" : "",
    "processDefinitionVersion" : 15,
    "projectCode" : 139687992815776,
    "processDefinitionCode" : 139688060332192,
    "preTaskCode" : 139688060332194,
    "preTaskVersion" : 1,
    "postTaskCode" : 139688060332196,
    "postTaskVersion" : 1,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 23:12:11",
    "updateTime" : "2025-04-28 23:12:11",
    "operator" : 1,
    "operateTime" : "2025-04-28 23:12:11"
  }, {
    "id" : 99,
    "name" : "",
    "processDefinitionVersion" : 15,
    "projectCode" : 139687992815776,
    "processDefinitionCode" : 139688060332192,
    "preTaskCode" : 139688060332196,
    "preTaskVersion" : 1,
    "postTaskCode" : 139688060332197,
    "postTaskVersion" : 7,
    "conditionType" : "NONE",
    "conditionParams" : {},
    "createTime" : "2025-04-28 23:12:11",
    "updateTime" : "2025-04-28 23:12:11",
    "operator" : 1,
    "operateTime" : "2025-04-28 23:12:11"
  } ],
  "taskDefinitionList" : [ {
    "id" : 8,
    "code" : 139688060332194,
    "name" : "增加instanceId",
    "version" : 1,
    "description" : "",
    "projectCode" : 139687992815776,
    "userId" : 1,
    "taskType" : "SHELL",
    "taskParams" : {"localParams":[],"rawScript":"find /tmp/data/${instanceId} -name \"data__*\" -type f -exec sed -i \"s/^/${instanceId},/\" {} \\;","resourceList":[]},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 20:48:41",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:48:41"
  }, {
    "id" : 10,
    "code" : 139688060332196,
    "name" : "写入贴源层",
    "version" : 1,
    "description" : "",
    "projectCode" : 139687992815776,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n\t\"job\": {\r\n\t\t\"setting\": {\r\n\t\t\t\"speed\": {\r\n\t\t\t\t\"channel\": 1\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"content\": [{\r\n\t\t\t\"reader\": {\r\n\t\t\t\t\"name\": \"txtfilereader\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"path\": [\"/tmp/data/${instanceId}\"],\r\n\t\t\t\t\t\"encoding\": \"UTF-8\",\r\n\t\t\t\t\t\"column\": [{\r\n\t\t\t\t\t\t\t\"index\": 0,\r\n\t\t\t\t\t\t\t\"type\": \"long\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"index\": 1,\r\n\t\t\t\t\t\t\t\"type\": \"long\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"index\": 2,\r\n\t\t\t\t\t\t\t\"type\": \"string\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"fieldDelimiter\": \",\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"writer\": {\r\n\t\t\t\t\"name\": \"postgresqlwriter\",\r\n\t\t\t\t\"parameter\": {\r\n\t\t\t\t\t\"username\": \"root\",\r\n\t\t\t\t\t\"password\": \"root\",\r\n\t\t\t\t\t\"column\": [\r\n\t\t\t\t\t\t\"instance_id\",\r\n\t\t\t\t\t\t\"cid\",\r\n\t\t\t\t\t\t\"cname\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"connection\": [{\r\n\t\t\t\t\t\t\"jdbcUrl\": \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\",\r\n\t\t\t\t\t\t\"table\": [\r\n\t\t\t\t\t\t\t\"public.origin_data\"\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}]\r\n\t}\r\n}","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 20:48:41",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:48:41"
  }, {
    "id" : 19,
    "code" : 139688060332195,
    "name" : "写入文件",
    "version" : 2,
    "description" : "",
    "projectCode" : 139687992815776,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n    \"job\": {\r\n      \"setting\": {\r\n        \"speed\": {\r\n          \"channel\": 1\r\n        }\r\n      },\r\n      \"content\": [\r\n        {\r\n          \"reader\": {\r\n            \"name\": \"httpreader\",\r\n            \"parameter\": {\r\n              \"encoding\": \"UTF-8\",\r\n              \"column\": [\r\n                \"cid\",\r\n                \"cname\"\r\n              ],\r\n              \"headers\": {\r\n                \"Authorization\": \"Basic YWRtaW46bmltZGE=\"\r\n              },\r\n              \"connection\": {\r\n                \"url\": \"http://192.168.248.163:18081/api/get_data\"\r\n              },\r\n              \"method\": \"GET\",\r\n              \"isPage\": true,\r\n              \"pageParams\": {\r\n                \"pageIndex\": {\r\n                  \"key\": \"page\",\r\n                  \"value\": 0\r\n                },\r\n                \"pageSize\": {\r\n                  \"key\": \"size\",\r\n                  \"value\": 10\r\n                }\r\n              },\r\n              \"resultKey\": \"result.data.content\",\r\n              \"reqParams\": {\r\n                \"debug\": \"true\"\r\n              }\r\n            }\r\n          },\r\n          \"writer\": {\r\n              \"name\": \"txtfilewriter\",\r\n              \"parameter\": {\r\n                  \"path\": \"/tmp/data/${instanceId}\",\r\n                  \"fileName\": \"data_\",\r\n                  \"writeMode\": \"truncate\",\r\n                  \"dateFormat\": \"yyyy-MM-dd\"\r\n              }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 20:58:39",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 20:58:39"
  }, {
    "id" : 30,
    "code" : 139688060332193,
    "name" : "创建临时目录",
    "version" : 2,
    "description" : "",
    "projectCode" : 139687992815776,
    "userId" : 1,
    "taskType" : "SHELL",
    "taskParams" : {"localParams":[{"prop":"instanceId","direct":"OUT","type":"VARCHAR","value":""},{"prop":"instanceIdi","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"instanceId=${system.task.instance.id}\r\necho \"#{setValue(instanceId=${instanceId})}\"\r\necho \"#{setValue(instanceIdi=${instanceId})}\"\r\nmkdir -p \"/tmp/data/${instanceId}\"","resourceList":[]},
    "taskParamList" : [ {
      "prop" : "instanceId",
      "direct" : "OUT",
      "type" : "VARCHAR",
      "value" : ""
    }, {
      "prop" : "instanceIdi",
      "direct" : "OUT",
      "type" : "INTEGER",
      "value" : ""
    } ],
    "taskParamMap" : {
      "instanceId" : "",
      "instanceIdi" : ""
    },
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 22:49:35",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 22:49:35"
  }, {
    "id" : 33,
    "code" : 139688060332197,
    "name" : "写入ftp",
    "version" : 7,
    "description" : "",
    "projectCode" : 139687992815776,
    "userId" : 1,
    "taskType" : "DATAX",
    "taskParams" : {"localParams":[],"resourceList":[],"customConfig":1,"json":"{\r\n  \"job\": {\r\n    \"setting\": {\r\n      \"speed\": {\r\n        \"channel\": 1\r\n      }\r\n    },\r\n    \"content\": [\r\n      {\r\n        \"reader\": {\r\n          \"name\": \"postgresqlreader\",\r\n          \"parameter\": {\r\n            \"username\": \"root\",\r\n            \"password\": \"root\",\r\n            \"connection\": [\r\n              {\r\n                \"querySql\": [\r\n                  \"SELECT \\n    INSTANCE_ID,\\n    CID,\\n    CASE \\n        WHEN CNAME LIKE '%机翼%' THEN CONCAT('机翼工艺_', REGEXP_REPLACE(CNAME, '.*工艺[_-]?([0-9]+).*', '\\\\1'))\\n        WHEN CNAME LIKE '%装配%' THEN CONCAT('装配工艺_', REGEXP_REPLACE(CNAME, '.*工艺[_-]?([0-9]+).*', '\\\\1'))\\n        WHEN CNAME LIKE '%大修%' THEN CONCAT('大修工艺_', REGEXP_REPLACE(CNAME, '.*工艺[_-]?([0-9]+).*', '\\\\1'))\\n        ELSE CNAME\\n    END as CNAME\\nFROM public.origin_data where instance_id = ${instanceId}\"\r\n                ],\r\n                \"jdbcUrl\": [\r\n                  \"jdbc:postgresql://dolphinscheduler-postgresql:5432/api\"\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"writer\": {\r\n          \"name\": \"ftpwriter\",\r\n          \"parameter\": {\r\n            \"protocol\": \"sftp\",\r\n            \"host\": \"192.168.248.163\",\r\n            \"port\": 2222,\r\n            \"username\": \"admin\",\r\n            \"password\": \"admin\",\r\n            \"path\": \"/upload\",\r\n            \"fileName\": \"data_${instanceId}.txt\",\r\n            \"writeMode\": \"append\",\r\n            \"fileFormat\": \"csv\",\r\n            \"encoding\": \"utf-8\",\r\n            \"fieldDelimiter\": \",\",\r\n            \"nullFormat\": \"\\\\N\",\r\n            \"dateFormat\": \"yyyy-MM-dd HH:mm:ss\",\r\n            \"header\": [\r\n              \"cid\",\r\n              \"cname\"\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}","xms":1,"xmx":1},
    "taskParamList" : [ ],
    "taskParamMap" : null,
    "flag" : "YES",
    "isCache" : "NO",
    "taskPriority" : "MEDIUM",
    "userName" : null,
    "projectName" : null,
    "workerGroup" : "default",
    "environmentCode" : -1,
    "failRetryTimes" : 0,
    "failRetryInterval" : 1,
    "timeoutFlag" : "CLOSE",
    "timeoutNotifyStrategy" : null,
    "timeout" : 0,
    "delayTime" : 0,
    "resourceIds" : null,
    "createTime" : "2025-04-28 20:48:41",
    "updateTime" : "2025-04-28 23:09:51",
    "modifyBy" : null,
    "taskGroupId" : 0,
    "taskGroupPriority" : 0,
    "cpuQuota" : -1,
    "memoryMax" : -1,
    "taskExecuteType" : "BATCH",
    "operator" : 1,
    "operateTime" : "2025-04-28 23:09:51"
  } ],
  "schedule" : null
} ]